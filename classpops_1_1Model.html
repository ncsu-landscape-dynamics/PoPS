<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pops-core: pops::Model&lt; IntegerRaster, FloatRaster, RasterIndex &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pops-core
   &#160;<span id="projectnumber">0.9</span>
   </div>
   <div id="projectbrief">PoPS (Pest or Pathogen Spread) Model Core C++ library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepops.html">pops</a></li><li class="navelem"><a class="el" href="classpops_1_1Model.html">Model</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpops_1_1Model-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pops::Model&lt; IntegerRaster, FloatRaster, RasterIndex &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="model_8hpp_source.html">model.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa4400ad981d3cace54019d2cc7b2da76"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpops_1_1Model.html#aa4400ad981d3cace54019d2cc7b2da76">Model</a> (const <a class="el" href="classpops_1_1Config.html">Config</a> &amp;config)</td></tr>
<tr class="separator:aa4400ad981d3cace54019d2cc7b2da76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cff9a7f6e323775db0d7a84f4ccf170"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpops_1_1Model.html#a4cff9a7f6e323775db0d7a84f4ccf170">run_step</a> (int step, IntegerRaster &amp;infected, IntegerRaster &amp;susceptible, IntegerRaster &amp;total_populations, IntegerRaster &amp;dispersers, std::vector&lt; IntegerRaster &gt; &amp;exposed, std::vector&lt; IntegerRaster &gt; &amp;mortality_tracker, IntegerRaster &amp;died, const std::vector&lt; FloatRaster &gt; &amp;temperatures, const FloatRaster &amp;weather_coefficient, <a class="el" href="classpops_1_1Treatments.html">Treatments</a>&lt; IntegerRaster, FloatRaster &gt; &amp;treatments, IntegerRaster &amp;resistant, std::vector&lt; std::tuple&lt; int, int &gt;&gt; &amp;outside_dispersers, <a class="el" href="classpops_1_1SpreadRate.html">SpreadRate</a>&lt; IntegerRaster &gt; &amp;spread_rate, <a class="el" href="classpops_1_1QuarantineEscape.html">QuarantineEscape</a>&lt; IntegerRaster &gt; &amp;quarantine, const IntegerRaster &amp;quarantine_areas, const std::vector&lt; std::vector&lt; int &gt;&gt; movements, const std::vector&lt; std::vector&lt; int &gt;&gt; &amp;suitable_cells)</td></tr>
<tr class="memdesc:a4cff9a7f6e323775db0d7a84f4ccf170"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run one step of the simulation.  <a href="classpops_1_1Model.html#a4cff9a7f6e323775db0d7a84f4ccf170">More...</a><br /></td></tr>
<tr class="separator:a4cff9a7f6e323775db0d7a84f4ccf170"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename IntegerRaster, typename FloatRaster, typename RasterIndex&gt;<br />
class pops::Model&lt; IntegerRaster, FloatRaster, RasterIndex &gt;</h3>


<p class="definition">Definition at line <a class="el" href="model_8hpp_source.html#l00040">40</a> of file <a class="el" href="model_8hpp_source.html">model.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa4400ad981d3cace54019d2cc7b2da76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4400ad981d3cace54019d2cc7b2da76">&#9670;&nbsp;</a></span>Model()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename IntegerRaster , typename FloatRaster , typename RasterIndex &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpops_1_1Model.html">pops::Model</a>&lt; IntegerRaster, FloatRaster, RasterIndex &gt;::<a class="el" href="classpops_1_1Model.html">Model</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classpops_1_1Config.html">Config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model_8hpp_source.html#l00053">53</a> of file <a class="el" href="model_8hpp_source.html">model.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4cff9a7f6e323775db0d7a84f4ccf170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cff9a7f6e323775db0d7a84f4ccf170">&#9670;&nbsp;</a></span>run_step()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename IntegerRaster , typename FloatRaster , typename RasterIndex &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classpops_1_1Model.html">pops::Model</a>&lt; IntegerRaster, FloatRaster, RasterIndex &gt;::run_step </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntegerRaster &amp;&#160;</td>
          <td class="paramname"><em>infected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntegerRaster &amp;&#160;</td>
          <td class="paramname"><em>susceptible</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntegerRaster &amp;&#160;</td>
          <td class="paramname"><em>total_populations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntegerRaster &amp;&#160;</td>
          <td class="paramname"><em>dispersers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; IntegerRaster &gt; &amp;&#160;</td>
          <td class="paramname"><em>exposed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; IntegerRaster &gt; &amp;&#160;</td>
          <td class="paramname"><em>mortality_tracker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntegerRaster &amp;&#160;</td>
          <td class="paramname"><em>died</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; FloatRaster &gt; &amp;&#160;</td>
          <td class="paramname"><em>temperatures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FloatRaster &amp;&#160;</td>
          <td class="paramname"><em>weather_coefficient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpops_1_1Treatments.html">Treatments</a>&lt; IntegerRaster, FloatRaster &gt; &amp;&#160;</td>
          <td class="paramname"><em>treatments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntegerRaster &amp;&#160;</td>
          <td class="paramname"><em>resistant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::tuple&lt; int, int &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>outside_dispersers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpops_1_1SpreadRate.html">SpreadRate</a>&lt; IntegerRaster &gt; &amp;&#160;</td>
          <td class="paramname"><em>spread_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpops_1_1QuarantineEscape.html">QuarantineEscape</a>&lt; IntegerRaster &gt; &amp;&#160;</td>
          <td class="paramname"><em>quarantine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const IntegerRaster &amp;&#160;</td>
          <td class="paramname"><em>quarantine_areas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; int &gt;&gt;&#160;</td>
          <td class="paramname"><em>movements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; int &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>suitable_cells</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run one step of the simulation. </p>
<p>The <em>total_populations</em> can be total number of hosts in the basic case or it can be the total size of population of all relevant species both host and non-host if dilution effect should be applied. When movement is applied, <em>total_populations</em> needs to be only the total number of hosts because movement does not support non-host individuals.</p>
<p>No treatment can be applied when movement is active because host movement does not support resistant hosts.</p>
<p><em>dispersers</em> is for internal use and for tracking dispersers creation. The input values are ignored and the output is not the current existing dispersers, but only the number of dispersers generated (and subsequently used) in this step. There are no dispersers in between simulation steps.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">step</td><td><a class="el" href="classpops_1_1Step.html" title="Representation and manipulation of a date for the simulation.">Step</a> number in the simulation. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">infected</td><td>Infected hosts </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">susceptible</td><td>Susceptible hosts </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">total_populations</td><td>All host and non-host individuals in the area </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dispersers</td><td>Dispersing individuals (used internally) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exposed[in,out]</td><td>Exposed hosts (if SEI model is active) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">mortality_tracker[in,out]</td><td>Mortality tracker used to generate <em>died</em> </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">died[out]</td><td>Infected hosts which died this step based on the mortality schedule </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">temperatures[in]</td><td>Vector of temperatures used to evaluate lethal temperature </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">weather_coefficient[in]</td><td>Weather coefficient (for the current step) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">treatments[in,out]</td><td><a class="el" href="classpops_1_1Treatments.html" title="Treatments class manages all treatments.">Treatments</a> to be applied (also tracks use of treatments) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">resistant[in,out]</td><td>Resistant hosts (host temporarily removed from susceptible hosts) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">outside_dispersers[in,out]</td><td>Dispersers escaping the rasters (adds to the vector) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">spread_rate[in,out]</td><td>Spread rate tracker </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">quarantine[in,out]</td><td>Quarantine escape tracker </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">quarantine_areas[in]</td><td>Quarantine areas </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">movements[in]</td><td>Table of host movements</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The parameters roughly correspond to <a class="el" href="classpops_1_1Simulation.html#a6b4321a236a62df901537f3b411aa835" title="Creates dispersal locations for the dispersing individuals.">Simulation::disperse()</a> and <a class="el" href="classpops_1_1Simulation.html#a8ab63eb22440c751dfe63a99513c45cb" title="Disperse, expose, and infect based on dispersers.">Simulation::disperse_and_infect()</a> functions, so these can be used for further reference. </dd></dl>

<p class="definition">Definition at line <a class="el" href="model_8hpp_source.html#l00116">116</a> of file <a class="el" href="model_8hpp_source.html">model.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classpops_1_1Model_a4cff9a7f6e323775db0d7a84f4ccf170_cgraph.png" border="0" usemap="#classpops_1_1Model_a4cff9a7f6e323775db0d7a84f4ccf170_cgraph" alt=""/></div>
<map name="classpops_1_1Model_a4cff9a7f6e323775db0d7a84f4ccf170_cgraph" id="classpops_1_1Model_a4cff9a7f6e323775db0d7a84f4ccf170_cgraph">
<area shape="rect" title="Run one step of the simulation." alt="" coords="5,502,171,529"/>
<area shape="rect" href="classpops_1_1SpreadRate.html#a5104f90ac61137516ad072023245b16a" title="Computes spread rate in n, s, e, w directions for certain simulation year based on provided infection..." alt="" coords="227,5,428,47"/>
<area shape="rect" href="namespacepops.html#a8b1c22f6f681b0c582b6741c1e030108" title="Get a corresponding enum value for a string which direction." alt="" coords="249,71,405,112"/>
<area shape="rect" href="classpops_1_1Simulation.html#a8ab63eb22440c751dfe63a99513c45cb" title="Disperse, expose, and infect based on dispersers." alt="" coords="230,136,425,177"/>
<area shape="rect" href="classpops_1_1Simulation.html#a83fb3fbcb9ad981708d04e4d9ae12e7b" title="Generates dispersers based on infected." alt="" coords="229,202,426,229"/>
<area shape="rect" href="classpops_1_1QuarantineEscape.html#a3524d52561a63c0111564dc91d6d9905" title="Computes whether infection in certain step escaped from quarantine areas and if not,..." alt="" coords="219,253,436,295"/>
<area shape="rect" href="classpops_1_1Config.html#a1131cb22f015eb22068d58f1a995c2fa" title=" " alt="" coords="254,319,401,360"/>
<area shape="rect" href="classpops_1_1Treatments.html#a1ab9fa5d5fd68b692cf34540ca794e15" title="Do management if needed." alt="" coords="230,385,425,411"/>
<area shape="rect" href="classpops_1_1Treatments.html#a71480864b9849fd21e80dce91edb3412" title="Separately manage mortality infected cohorts." alt="" coords="230,436,425,477"/>
<area shape="rect" href="classpops_1_1Simulation.html#a40c561302a6d94a8a799c4e620dc0ea6" title=" " alt="" coords="228,502,427,529"/>
<area shape="rect" href="classpops_1_1Config.html#a28164982c6776d4160c6675e7c851471" title=" " alt="" coords="242,553,413,595"/>
<area shape="rect" href="classpops_1_1Simulation.html#a0b35087348bc2e7161361d92b60e3c04" title="Move overflowing pest population to other hosts." alt="" coords="239,619,415,660"/>
<area shape="rect" href="classpops_1_1Simulation.html#a4f68c97a916a853aae1b05ffbc9a903d" title="Moves hosts from one location to another." alt="" coords="222,685,433,711"/>
<area shape="rect" href="classpops_1_1Config.html#af15a3548e52f5ab04fa50cbd1b5852de" title=" " alt="" coords="237,736,417,777"/>
<area shape="rect" href="classpops_1_1Simulation.html#ad060e789f6c3260f4e96f9a14c0caad8" title="removes infected based on min or max temperature tolerance" alt="" coords="233,802,422,829"/>
<area shape="rect" href="namespacepops.html#a38c6b618b967355a93921c2abfd3f031" title="Converts simulation step to step of actions." alt="" coords="245,853,410,895"/>
<area shape="rect" href="classpops_1_1Config.html#af84e3989fa4c1f0f5eab1d5487c70457" title=" " alt="" coords="250,919,405,960"/>
<area shape="rect" href="classpops_1_1Config.html#a77f322cb4c1c81aa7acac13931a75d9d" title=" " alt="" coords="250,984,405,1025"/>
<area shape="rect" href="classpops_1_1Simulation.html#a6b4321a236a62df901537f3b411aa835" title="Creates dispersal locations for the dispersing individuals." alt="" coords="484,114,679,141"/>
<area shape="rect" href="classpops_1_1Simulation.html#ac2edb85ea4001e168501bb5c5df8fcda" title="Infect exposed hosts (E to I transition in the SEI model)" alt="" coords="493,165,669,207"/>
<area shape="rect" href="namespacepops.html#a115caa911898fbbdae3ae299d834f16d" title="Rotate elements in a container to the left by one." alt="" coords="727,173,909,199"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/pops/<a class="el" href="model_8hpp_source.html">model.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
